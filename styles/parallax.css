/* 3D Parallax Scene Styles */
.parallax-scene {
    width: 100%;
    height: 100%;
    perspective: 1200px;
    perspective-origin: center center;
}

/* Parallax Container Transforms */
.map-container.parallax-active {
    transform-style: preserve-3d;
    transition: transform 0.05s ease-out;
}

/* Atmospheric depth layer */
.map-container::before {
    content: '';
    position: absolute;
    top: -5%;
    left: -5%;
    right: -5%;
    bottom: -5%;
    background: radial-gradient(
        ellipse at center,
        rgba(0, 150, 255, 0.05) 0%,
        rgba(0, 100, 255, 0.02) 50%,
        transparent 100%
    );
    z-index: -1;
    transform: translateZ(-60px) scale(1.1);
    transition: transform 0.1s ease-out;
}

/* Enhanced Hotspot 3D Effects */
.parallax-active .project-hotspot:hover {
    transform: translate(-50%, -50%) translateZ(35px) scale(1.1);
}

/* Layer-specific styles */
.parallax-active .background-layer {
    will-change: transform;
}

.parallax-active .midground-layer {
    will-change: transform;
}

.parallax-active .foreground-layer {
    will-change: transform;
}

.parallax-active .project-hotspot {
    will-change: transform;
    transition: transform 0.1s ease-out;
}

.parallax-active .hotspot-marker {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* Enhanced Glow Effect */
.parallax-active .project-hotspot:hover .hotspot-marker {
    transform: translateZ(15px) scale(1.3);
    box-shadow: 
        0 0 25px rgba(0, 150, 255, 0.8),
        0 0 40px rgba(0, 150, 255, 0.4),
        0 10px 20px rgba(0, 0, 0, 0.3);
}

/* Smooth Performance Optimizations */
.parallax-scene,
.map-container,
.project-hotspot,
.hotspot-marker {
    will-change: transform;
    backface-visibility: hidden;
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .map-container {
        transform: none !important;
        transition: none !important;
    }
    
    .project-hotspot,
    .hotspot-marker {
        transform: translate(-50%, -50%) !important;
        transition: none !important;
    }
    
    .hotspot-marker {
        animation: none !important;
    }
}